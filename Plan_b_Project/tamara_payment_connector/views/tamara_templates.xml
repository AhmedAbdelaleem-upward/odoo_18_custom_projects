<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="inline_form" name="Tamara Inline Form">
        <div t-attf-id="tamara-container-{{provider_id}}">
            <div class="row gap-2 gap-md-0">
                <!-- Payment Details Input -->
                <div class="col-12 col-md mt-0 mb-0">
                    <label for="tamara_customer_input" class="mt-0">
                        <small>Payment Details (test data)</small>
                    </label>
                    <input type="text"
                           name="customer_input"
                           id="tamara_customer_input"
                           class="form-control"
                           placeholder="XXXX XXXX XXXX XXXX"/>
                </div>
                <!-- Payment Outcome Selector -->
                <div class="col-12 col-md mb-0">
                    <label for="tamara_simulated_payment_state" class="mt-0 text-muted">
                        <small>Payment Status</small>
                    </label>
                    <select id="tamara_simulated_payment_state" class="form-select">
                        <option value="success" title="Successful payment">
                            Successful
                        </option>
                        <option value="pending" title="Payment processing">
                            Pending
                        </option>
                        <option value="cancel" title="Payment cancelled by customer">
                            Cancelled
                        </option>
                        <option value="error" title="Processing error">
                            Error
                        </option>
                    </select>
                </div>
            </div>
        </div>
    </template>

    <template id="tamara_simulation_page" name="Tamara Simulation">
        <html lang="en">
            <head>
                <title>Tamara Simulation</title>
                <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"/>
            </head>
            <body class="bg-light">
                <div class="container py-5">
                    <div class="row justify-content-center">
                        <div class="col-md-6">
                            <div class="card shadow-sm">
                                <div class="card-header bg-warning text-dark">
                                    <h4 class="mb-0">üé≠ Tamara Test Simulation</h4>
                                </div>
                                <div class="card-body">
                                    <h5 class="card-title">Payment Details</h5>
                                    <p class="card-text">
                                        <strong>Order:</strong> <t t-esc="order_reference"/><br/>
                                        <strong>Amount:</strong> <t t-esc="amount"/> <t t-esc="currency"/>
                                    </p>
                                    <hr/>
                                    <p class="text-muted">
                                        This is a simulated payment page because "Test Mode" is enabled.
                                        No real transaction will occur. Choose a payment outcome to test:
                                    </p>
                                    <div class="d-grid gap-2">
                                        <form t-att-action="return_url" method="post">
                                            <input type="hidden" name="order_reference" t-att-value="order_reference"/>
                                            <input type="hidden" name="payment_outcome" value="success"/>
                                            <button type="submit" class="btn btn-success btn-lg w-100">
                                                ‚úÖ Approve Payment (Success)
                                            </button>
                                        </form>
                                        <form t-att-action="return_url" method="post">
                                            <input type="hidden" name="order_reference" t-att-value="order_reference"/>
                                            <input type="hidden" name="payment_outcome" value="pending"/>
                                            <button type="submit" class="btn btn-warning btn-lg w-100">
                                                ‚è≥ Set Pending
                                            </button>
                                        </form>
                                        <form t-att-action="return_url" method="post">
                                            <input type="hidden" name="order_reference" t-att-value="order_reference"/>
                                            <input type="hidden" name="payment_outcome" value="cancel"/>
                                            <button type="submit" class="btn btn-secondary btn-lg w-100">
                                                ‚ùå Cancel Payment
                                            </button>
                                        </form>
                                        <form t-att-action="return_url" method="post">
                                            <input type="hidden" name="order_reference" t-att-value="order_reference"/>
                                            <input type="hidden" name="payment_outcome" value="error"/>
                                            <button type="submit" class="btn btn-danger btn-lg w-100">
                                                ‚ö†Ô∏è Simulate Error
                                            </button>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </body>
        </html>
    </template>

    <template id="redirect_form">
        <form t-att-action="api_url" method="post">
            <input type="hidden" name="order_reference" t-att-value="order_reference"/>
            <input type="hidden" name="amount" t-att-value="amount"/>
            <input type="hidden" name="currency" t-att-value="currency"/>
            <input type="hidden" name="return_url" t-att-value="return_url"/>
        </form>
    </template>

</odoo>
